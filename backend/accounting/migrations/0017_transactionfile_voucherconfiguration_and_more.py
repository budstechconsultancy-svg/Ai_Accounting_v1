# Generated by Django 5.0.14 on 2026-01-09 09:38

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('accounting', '0016_extractedinvoice'),
    ]

    operations = [
        migrations.CreateModel(
            name='TransactionFile',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('tenant_id', models.BigIntegerField()),
                ('financial_year_id', models.BigIntegerField()),
                ('ledger_code', models.CharField(blank=True, max_length=50, null=True, unique=True)),
                ('ledger_name', models.CharField(max_length=255)),
                ('alias_name', models.CharField(blank=True, max_length=255, null=True)),
                ('group_id', models.BigIntegerField(blank=True, null=True)),
                ('nature', models.CharField(blank=True, choices=[('Asset', 'Asset'), ('Liability', 'Liability'), ('Income', 'Income'), ('Expense', 'Expense'), ('Capital', 'Capital')], max_length=20, null=True)),
                ('ledger_type', models.CharField(blank=True, max_length=50, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('opening_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('opening_balance_type', models.CharField(blank=True, choices=[('Dr', 'Debit'), ('Cr', 'Credit')], max_length=10, null=True)),
                ('current_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('current_balance_type', models.CharField(blank=True, choices=[('Dr', 'Debit'), ('Cr', 'Credit')], max_length=10, null=True)),
                ('closing_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('closing_balance_type', models.CharField(blank=True, choices=[('Dr', 'Debit'), ('Cr', 'Credit')], max_length=10, null=True)),
                ('bank_name', models.CharField(blank=True, max_length=255, null=True)),
                ('branch_name', models.CharField(blank=True, max_length=255, null=True)),
                ('account_number', models.CharField(blank=True, max_length=50, null=True)),
                ('ifsc_code', models.CharField(blank=True, max_length=20, null=True)),
                ('micr_code', models.CharField(blank=True, max_length=20, null=True)),
                ('upi_id', models.CharField(blank=True, max_length=100, null=True)),
                ('gst_applicable', models.BooleanField(default=False)),
                ('gst_registration_type', models.CharField(blank=True, max_length=50, null=True)),
                ('gstin', models.CharField(blank=True, max_length=20, null=True)),
                ('hsn_sac_code', models.CharField(blank=True, max_length=20, null=True)),
                ('gst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('cgst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('sgst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('igst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('is_tds_applicable', models.BooleanField(default=False)),
                ('tds_section', models.CharField(blank=True, max_length=20, null=True)),
                ('tds_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('contact_person', models.CharField(blank=True, max_length=255, null=True)),
                ('mobile', models.CharField(blank=True, max_length=20, null=True)),
                ('email', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line1', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line2', models.CharField(blank=True, max_length=255, null=True)),
                ('city', models.CharField(blank=True, max_length=100, null=True)),
                ('state', models.CharField(blank=True, max_length=100, null=True)),
                ('pincode', models.CharField(blank=True, max_length=20, null=True)),
                ('country', models.CharField(blank=True, max_length=100, null=True)),
                ('allow_bill_wise', models.BooleanField(default=False)),
                ('credit_limit', models.DecimalField(blank=True, decimal_places=2, max_digits=18, null=True)),
                ('credit_days', models.IntegerField(blank=True, null=True)),
                ('is_cost_center_required', models.BooleanField(default=False)),
                ('is_inventory_linked', models.BooleanField(default=False)),
                ('is_system_ledger', models.BooleanField(default=False)),
                ('lock_editing', models.BooleanField(default=False)),
                ('created_by', models.BigIntegerField(blank=True, null=True)),
                ('updated_by', models.BigIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(blank=True, null=True)),
                ('updated_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Transaction File',
                'verbose_name_plural': 'Transaction Files',
                'db_table': 'Transcaction_file',
                'managed': True,
                'indexes': [models.Index(fields=['tenant_id', 'ledger_name'], name='Transcactio_tenant__f02ed7_idx'), models.Index(fields=['tenant_id', 'is_active'], name='Transcactio_tenant__99f3f8_idx'), models.Index(fields=['ledger_code'], name='Transcactio_ledger__38f12f_idx'), models.Index(fields=['nature'], name='Transcactio_nature_264db3_idx')],
            },
        ),
        migrations.CreateModel(
            name='VoucherConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('voucher_type', models.CharField(choices=[('sales', 'Sales'), ('credit-note', 'Credit Note'), ('receipts', 'Receipts'), ('purchases', 'Purchases'), ('debit-note', 'Debit Note'), ('payments', 'Payments'), ('expenses', 'Expenses'), ('journal', 'Journal'), ('contra', 'Contra')], max_length=50)),
                ('voucher_name', models.CharField(max_length=255)),
                ('enable_auto_numbering', models.BooleanField(default=True)),
                ('prefix', models.CharField(blank=True, max_length=50, null=True)),
                ('suffix', models.CharField(blank=True, max_length=50, null=True)),
                ('start_from', models.PositiveBigIntegerField(default=1)),
                ('current_number', models.PositiveBigIntegerField(default=1)),
                ('required_digits', models.IntegerField(default=4)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField()),
                ('update_customer_master', models.BooleanField(blank=True, null=True)),
                ('include_from_existing_series_id', models.BigIntegerField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'voucher_configurations',
                'indexes': [models.Index(fields=['tenant_id', 'voucher_type'], name='voucher_con_tenant__142b94_idx'), models.Index(fields=['effective_from', 'effective_to'], name='voucher_con_effecti_a6b7a2_idx')],
                'unique_together': {('tenant_id', 'voucher_type', 'voucher_name', 'effective_from')},
            },
        ),
        migrations.CreateModel(
            name='AmountTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('transaction_date', models.DateField(help_text='Date of transaction')),
                ('transaction_type', models.CharField(choices=[('opening_balance', 'Opening Balance'), ('transaction', 'Transaction')], default='transaction', help_text='Type of transaction', max_length=20)),
                ('debit', models.DecimalField(decimal_places=2, default=0, help_text='Debit amount (money coming in)', max_digits=15)),
                ('credit', models.DecimalField(decimal_places=2, default=0, help_text='Credit amount (money going out)', max_digits=15)),
                ('balance', models.DecimalField(decimal_places=2, default=0, help_text='Running balance after this transaction', max_digits=15)),
                ('narration', models.TextField(blank=True, help_text='Transaction description or narration', null=True)),
                ('ledger', models.ForeignKey(help_text='Reference to the Cash/Bank ledger', on_delete=django.db.models.deletion.CASCADE, related_name='amount_transactions', to='accounting.masterledger')),
                ('voucher', models.ForeignKey(blank=True, help_text='Reference to voucher if transaction is from a voucher', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='amount_transactions', to='accounting.voucher')),
            ],
            options={
                'db_table': 'amount_transactions',
                'ordering': ['-transaction_date', '-created_at'],
                'indexes': [models.Index(fields=['tenant_id', 'ledger', 'transaction_date'], name='amount_tran_tenant__d7c201_idx'), models.Index(fields=['tenant_id', 'transaction_type'], name='amount_tran_tenant__9534d3_idx'), models.Index(fields=['transaction_date'], name='amount_tran_transac_10f4ee_idx')],
            },
        ),
    ]
