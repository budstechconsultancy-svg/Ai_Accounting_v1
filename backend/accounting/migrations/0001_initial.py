# Generated by Django 5.0.14 on 2026-01-24 04:46

import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Answer',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('ledger_code', models.CharField(blank=True, max_length=255, null=True)),
                ('sub_group_1_1', models.CharField(blank=True, max_length=255, null=True)),
                ('sub_group_1_2', models.CharField(blank=True, max_length=255, null=True)),
                ('question', models.TextField(blank=True, null=True)),
                ('answer', models.TextField(blank=True, null=True)),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
            ],
            options={
                'db_table': 'answers',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='MasterHierarchyRaw',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('major_group_1', models.TextField(blank=True, db_column='major_group_1', null=True)),
                ('group_1', models.TextField(blank=True, db_column='group_1', null=True)),
                ('sub_group_1_1', models.TextField(blank=True, db_column='sub_group_1_1', null=True)),
                ('sub_group_2_1', models.TextField(blank=True, db_column='sub_group_2_1', null=True)),
                ('sub_group_3_1', models.TextField(blank=True, db_column='sub_group_3_1', null=True)),
                ('ledger_1', models.TextField(blank=True, db_column='ledger_1', null=True)),
                ('code', models.TextField(blank=True, db_column='code', null=True)),
            ],
            options={
                'db_table': 'master_hierarchy_raw',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Question',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sub_group_1_1', models.CharField(blank=True, db_column='sub_group_1_1', help_text='Sub-group 1 level 1 from hierarchy', max_length=255, null=True)),
                ('sub_group_1_2', models.CharField(blank=True, db_column='sub_group_1_2', help_text='Sub-group 1 level 2 (question code)', max_length=50, null=True)),
                ('question', models.TextField(blank=True, help_text='The question text', null=True)),
                ('condition_rule', models.CharField(blank=True, help_text='Condition rules for displaying the question', max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'questions',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='ExtractedInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('voucher_date', models.CharField(blank=True, max_length=20, null=True)),
                ('invoice_number', models.CharField(blank=True, max_length=100, null=True)),
                ('po_number', models.CharField(blank=True, max_length=100, null=True)),
                ('po_date', models.CharField(blank=True, max_length=20, null=True)),
                ('supplier_name', models.CharField(blank=True, max_length=255, null=True)),
                ('bill_from_address', models.TextField(blank=True, null=True)),
                ('ship_from_address', models.TextField(blank=True, null=True)),
                ('email', models.CharField(blank=True, max_length=255, null=True)),
                ('phone', models.CharField(blank=True, max_length=100, null=True)),
                ('sales_person', models.CharField(blank=True, max_length=255, null=True)),
                ('gstin', models.CharField(blank=True, max_length=15, null=True)),
                ('pan', models.CharField(blank=True, max_length=10, null=True)),
                ('msme_number', models.CharField(blank=True, max_length=50, null=True)),
                ('payment_terms', models.CharField(blank=True, max_length=255, null=True)),
                ('delivery_terms', models.CharField(blank=True, max_length=255, null=True)),
                ('ledger_amount', models.CharField(blank=True, max_length=50, null=True)),
                ('ledger_rate', models.CharField(blank=True, max_length=50, null=True)),
                ('ledger_dr_cr', models.CharField(blank=True, db_column='ledger_amount_dr_cr', max_length=10, null=True)),
                ('ledger_narration', models.TextField(blank=True, null=True)),
                ('ledger_description', models.TextField(blank=True, db_column='description_of_ledger', null=True)),
                ('tax_payment_type', models.CharField(blank=True, db_column='type_of_tax_payment', max_length=100, null=True)),
                ('item_code', models.CharField(blank=True, max_length=100, null=True)),
                ('item_description', models.TextField(blank=True, db_column='item_description', null=True)),
                ('quantity', models.CharField(blank=True, max_length=50, null=True)),
                ('uom', models.CharField(blank=True, db_column='quantity_uom', max_length=50, null=True)),
                ('item_rate', models.CharField(blank=True, max_length=50, null=True)),
                ('discount_pct', models.CharField(blank=True, db_column='disc_pct', max_length=50, null=True)),
                ('item_amount', models.CharField(blank=True, max_length=50, null=True)),
                ('marks', models.CharField(blank=True, max_length=255, null=True)),
                ('num_packages', models.CharField(blank=True, db_column='no_of_packages', max_length=50, null=True)),
                ('freight_charges', models.CharField(blank=True, max_length=50, null=True)),
                ('hsn_sac', models.CharField(blank=True, db_column='hsn_sac_details', max_length=20, null=True)),
                ('gst_rate', models.CharField(blank=True, max_length=50, null=True)),
                ('igst_amount', models.CharField(blank=True, max_length=50, null=True)),
                ('cgst_amount', models.CharField(blank=True, max_length=50, null=True)),
                ('sgst_amount', models.CharField(blank=True, db_column='sgst_utgst_amount', max_length=50, null=True)),
                ('cess_rate', models.CharField(blank=True, max_length=50, null=True)),
                ('cess_amount', models.CharField(blank=True, max_length=50, null=True)),
                ('state_cess_rate', models.CharField(blank=True, max_length=50, null=True)),
                ('state_cess_amount', models.CharField(blank=True, max_length=50, null=True)),
                ('reverse_charge', models.CharField(blank=True, db_column='applicable_for_reverse_charge', max_length=10, null=True)),
                ('taxable_value', models.CharField(blank=True, max_length=50, null=True)),
                ('invoice_value', models.CharField(blank=True, max_length=50, null=True)),
                ('additional_fields', models.JSONField(blank=True, help_text='Stores the remaining 60+ fields dynamically', null=True)),
            ],
            options={
                'db_table': 'extracted_invoices',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MasterChartOfAccounts',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type_of_business', models.CharField(max_length=255)),
                ('financial_reporting', models.CharField(max_length=255)),
                ('major_group', models.CharField(max_length=255)),
                ('group', models.CharField(max_length=255)),
                ('sub_group_1', models.CharField(blank=True, max_length=255, null=True)),
                ('sub_group_2', models.CharField(blank=True, max_length=255, null=True)),
                ('sub_group_3', models.CharField(blank=True, max_length=255, null=True)),
                ('ledger_name', models.CharField(blank=True, max_length=255, null=True)),
                ('ledger_code', models.CharField(blank=True, max_length=50, null=True, unique=True)),
                ('level_depth', models.IntegerField(default=1)),
                ('import_version', models.CharField(default='1.0', max_length=20)),
                ('imported_at', models.DateTimeField(auto_now_add=True)),
                ('is_leaf', models.BooleanField(default=False)),
            ],
            options={
                'verbose_name_plural': 'Master Chart of Accounts',
                'db_table': 'master_chart_of_accounts',
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherConfig',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('name', models.CharField(default='__NUMBERING__', max_length=255)),
                ('sales_enable_auto', models.BooleanField(default=True)),
                ('sales_prefix', models.CharField(blank=True, max_length=50, null=True)),
                ('sales_suffix', models.CharField(blank=True, max_length=50, null=True)),
                ('sales_next_number', models.PositiveBigIntegerField(default=1)),
                ('sales_padding', models.IntegerField(default=4)),
                ('sales_preview', models.CharField(blank=True, max_length=255, null=True)),
                ('purchase_enable_auto', models.BooleanField(default=True)),
                ('purchase_prefix', models.CharField(blank=True, max_length=50, null=True)),
                ('purchase_suffix', models.CharField(blank=True, max_length=50, null=True)),
                ('purchase_next_number', models.PositiveBigIntegerField(default=1)),
                ('purchase_padding', models.IntegerField(default=4)),
                ('purchase_preview', models.CharField(blank=True, max_length=255, null=True)),
            ],
            options={
                'db_table': 'master_voucher_config',
            },
        ),
        migrations.CreateModel(
            name='MasterLedger',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('name', models.CharField(max_length=255)),
                ('group', models.CharField(help_text='Ledger group name', max_length=255)),
                ('category', models.CharField(blank=True, max_length=255, null=True)),
                ('sub_group_1', models.CharField(blank=True, max_length=255, null=True)),
                ('sub_group_2', models.CharField(blank=True, max_length=255, null=True)),
                ('sub_group_3', models.CharField(blank=True, max_length=255, null=True)),
                ('ledger_type', models.CharField(blank=True, max_length=255, null=True)),
                ('gstin', models.CharField(blank=True, max_length=15, null=True)),
                ('registration_type', models.CharField(blank=True, choices=[('Registered', 'Registered'), ('Unregistered', 'Unregistered'), ('Composition', 'Composition')], max_length=20, null=True)),
                ('state', models.CharField(blank=True, max_length=100, null=True)),
                ('extended_data', models.JSONField(blank=True, help_text='Group-specific fields (e.g., cashLocation, loanAccountNumber)', null=True)),
                ('parent_ledger_id', models.IntegerField(blank=True, help_text='ID of parent custom ledger for nested structure', null=True)),
                ('code', models.CharField(blank=True, db_column='ledger_code', help_text='Auto-generated code based on hierarchy position', max_length=50, null=True, unique=True)),
                ('additional_data', models.JSONField(blank=True, help_text='Stores answers to dynamic questions (e.g., opening balance, GSTIN, credit limit)', null=True)),
            ],
            options={
                'db_table': 'master_ledgers',
                'unique_together': {('name', 'tenant_id')},
            },
        ),
        migrations.CreateModel(
            name='MasterLedgerGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('name', models.CharField(max_length=255)),
                ('parent', models.CharField(blank=True, help_text='Parent group name', max_length=255, null=True)),
            ],
            options={
                'db_table': 'master_ledger_groups',
                'unique_together': {('name', 'tenant_id')},
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherContra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Contra Voucher Master',
                'verbose_name_plural': 'Contra Voucher Masters',
                'db_table': 'master_voucher_contra',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__f4f75e_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_f4a6ed_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherCreditNote',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Credit Note Voucher Master',
                'verbose_name_plural': 'Credit Note Voucher Masters',
                'db_table': 'master_voucher_creditnote',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__30a439_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_af6e07_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherDebitNote',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Debit Note Voucher Master',
                'verbose_name_plural': 'Debit Note Voucher Masters',
                'db_table': 'master_voucher_debitnote',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__ef0acf_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_01aa7e_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherExpenses',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Expenses Voucher Master',
                'verbose_name_plural': 'Expenses Voucher Masters',
                'db_table': 'master_voucher_expenses',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__ab77f8_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_85da96_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherJournal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Journal Voucher Master',
                'verbose_name_plural': 'Journal Voucher Masters',
                'db_table': 'master_voucher_journal',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__1b20e9_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_e4d10b_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherPayments',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Payments Voucher Master',
                'verbose_name_plural': 'Payments Voucher Masters',
                'db_table': 'master_voucher_payments',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__b9185e_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_558b5d_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherPurchases',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Purchases Voucher Master',
                'verbose_name_plural': 'Purchases Voucher Masters',
                'db_table': 'master_voucher_purchases',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__bd2019_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_d1e89b_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherReceipts',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Receipts Voucher Master',
                'verbose_name_plural': 'Receipts Voucher Masters',
                'db_table': 'master_voucher_receipts',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__5ca3c8_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_a0ebc0_idx')],
            },
        ),
        migrations.CreateModel(
            name='MasterVoucherSales',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(help_text='Tenant ID for multi-tenancy', max_length=36)),
                ('voucher_name', models.CharField(help_text='Voucher name', max_length=100)),
                ('prefix', models.CharField(blank=True, help_text='Prefix for voucher number', max_length=20, null=True)),
                ('suffix', models.CharField(blank=True, help_text='Suffix for voucher number', max_length=20, null=True)),
                ('start_from', models.IntegerField(default=1, help_text='Starting number')),
                ('current_number', models.IntegerField(default=1, help_text='Current number in sequence')),
                ('required_digits', models.IntegerField(default=4, help_text='Number of digits for padding')),
                ('enable_auto_numbering', models.BooleanField(default=True, help_text='Enable automatic numbering')),
                ('update_customer_master', models.BooleanField(default=False, help_text='Update customer master')),
                ('include_from_existing_series', models.CharField(blank=True, help_text='Include from existing series', max_length=200, null=True)),
                ('effective_from', models.DateField(blank=True, help_text='Effective from date', null=True)),
                ('effective_to', models.DateField(blank=True, help_text='Effective to date', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Sales Voucher Master',
                'verbose_name_plural': 'Sales Voucher Masters',
                'db_table': 'master_voucher_sales',
                'indexes': [models.Index(fields=['tenant_id'], name='master_vouc_tenant__e0a28b_idx'), models.Index(fields=['voucher_name'], name='master_vouc_voucher_0965fc_idx')],
            },
        ),
        migrations.CreateModel(
            name='ReceiptVoucherType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('name', models.CharField(max_length=255)),
                ('code', models.CharField(max_length=50)),
                ('description', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('display_order', models.IntegerField(default=0)),
            ],
            options={
                'db_table': 'receipt_voucher_types',
                'ordering': ['display_order', 'name'],
                'unique_together': {('tenant_id', 'code')},
            },
        ),
        migrations.CreateModel(
            name='SalesVoucher',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('date', models.DateField(help_text='Must be today or past date, no future dates allowed')),
                ('sales_invoice_number', models.CharField(help_text='Auto-generated, sequential, read-only', max_length=50)),
                ('bill_to_address', models.TextField(help_text='Auto-fetched, read-only')),
                ('bill_to_gstin', models.CharField(blank=True, max_length=15, null=True)),
                ('bill_to_contact', models.CharField(blank=True, max_length=255, null=True)),
                ('bill_to_state', models.CharField(blank=True, max_length=100, null=True)),
                ('bill_to_country', models.CharField(default='India', max_length=100)),
                ('ship_to_address', models.TextField(help_text='Auto-fetched, editable, does not update customer master')),
                ('ship_to_state', models.CharField(blank=True, max_length=100, null=True)),
                ('ship_to_country', models.CharField(default='India', max_length=100)),
                ('tax_type', models.CharField(choices=[('within_state', 'Within State'), ('other_state', 'Other State'), ('export', 'Export')], help_text='Auto-determined: Within State if User State = Bill To State, Other State if different states in India, Export if Bill To Country != India', max_length=20)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='draft', max_length=20)),
                ('current_step', models.IntegerField(default=1, help_text='Track which tab user is on (1-5)')),
                ('total_taxable_amount', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_cgst', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_sgst', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_igst', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('grand_total', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('payment_details', models.JSONField(blank=True, help_text='Payment Details tab data', null=True)),
                ('dispatch_details', models.JSONField(blank=True, help_text='Dispatch Details tab data', null=True)),
                ('einvoice_details', models.JSONField(blank=True, help_text='E-Invoice & E-way Bill Details tab data', null=True)),
                ('customer', models.ForeignKey(help_text='Customer from Customer Module', on_delete=django.db.models.deletion.PROTECT, related_name='sales_vouchers', to='accounting.masterledger')),
                ('voucher_type', models.ForeignKey(help_text='From master list of Receipt Voucher Types', on_delete=django.db.models.deletion.PROTECT, to='accounting.receiptvouchertype')),
            ],
            options={
                'db_table': 'sales_vouchers',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SalesVoucherDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('file_name', models.CharField(max_length=255)),
                ('file_path', models.CharField(max_length=500)),
                ('file_type', models.CharField(help_text='jpg, jpeg, or pdf only', max_length=10)),
                ('file_size', models.IntegerField(help_text='File size in bytes')),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('sales_voucher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='accounting.salesvoucher')),
            ],
            options={
                'db_table': 'sales_voucher_documents',
                'ordering': ['uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='SalesVoucherItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('item_name', models.CharField(max_length=255)),
                ('hsn_code', models.CharField(blank=True, max_length=20, null=True)),
                ('quantity', models.DecimalField(decimal_places=3, max_digits=15)),
                ('unit', models.CharField(blank=True, max_length=50, null=True)),
                ('rate', models.DecimalField(decimal_places=2, max_digits=15)),
                ('taxable_amount', models.DecimalField(decimal_places=2, max_digits=15)),
                ('cgst_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('cgst_amount', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('sgst_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('sgst_amount', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('igst_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('igst_amount', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=15)),
                ('line_number', models.IntegerField(default=1)),
                ('sales_voucher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='accounting.salesvoucher')),
            ],
            options={
                'db_table': 'sales_voucher_items',
                'ordering': ['line_number'],
            },
        ),
        migrations.CreateModel(
            name='TenantLedger',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('custom_alias', models.CharField(blank=True, max_length=255, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('master_ledger', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to='accounting.masterchartofaccounts')),
            ],
            options={
                'db_table': 'tenant_ledgers',
            },
        ),
        migrations.CreateModel(
            name='TransactionFile',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('tenant_id', models.CharField(max_length=36)),
                ('financial_year_id', models.BigIntegerField()),
                ('ledger_code', models.CharField(blank=True, max_length=50, null=True, unique=True)),
                ('ledger_name', models.CharField(max_length=255)),
                ('alias_name', models.CharField(blank=True, max_length=255, null=True)),
                ('group_id', models.BigIntegerField(blank=True, null=True)),
                ('nature', models.CharField(blank=True, choices=[('Asset', 'Asset'), ('Liability', 'Liability'), ('Income', 'Income'), ('Expense', 'Expense'), ('Capital', 'Capital')], max_length=20, null=True)),
                ('ledger_type', models.CharField(blank=True, max_length=50, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('opening_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('opening_balance_type', models.CharField(blank=True, choices=[('Dr', 'Debit'), ('Cr', 'Credit')], max_length=10, null=True)),
                ('current_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('current_balance_type', models.CharField(blank=True, choices=[('Dr', 'Debit'), ('Cr', 'Credit')], max_length=10, null=True)),
                ('closing_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('closing_balance_type', models.CharField(blank=True, choices=[('Dr', 'Debit'), ('Cr', 'Credit')], max_length=10, null=True)),
                ('bank_name', models.CharField(blank=True, max_length=255, null=True)),
                ('branch_name', models.CharField(blank=True, max_length=255, null=True)),
                ('account_number', models.CharField(blank=True, max_length=50, null=True)),
                ('ifsc_code', models.CharField(blank=True, max_length=20, null=True)),
                ('micr_code', models.CharField(blank=True, max_length=20, null=True)),
                ('upi_id', models.CharField(blank=True, max_length=100, null=True)),
                ('gst_applicable', models.BooleanField(default=False)),
                ('gst_registration_type', models.CharField(blank=True, max_length=50, null=True)),
                ('gstin', models.CharField(blank=True, max_length=20, null=True)),
                ('hsn_sac_code', models.CharField(blank=True, max_length=20, null=True)),
                ('gst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('cgst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('sgst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('igst_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('is_tds_applicable', models.BooleanField(default=False)),
                ('tds_section', models.CharField(blank=True, max_length=20, null=True)),
                ('tds_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('contact_person', models.CharField(blank=True, max_length=255, null=True)),
                ('mobile', models.CharField(blank=True, max_length=20, null=True)),
                ('email', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line1', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line2', models.CharField(blank=True, max_length=255, null=True)),
                ('city', models.CharField(blank=True, max_length=100, null=True)),
                ('state', models.CharField(blank=True, max_length=100, null=True)),
                ('pincode', models.CharField(blank=True, max_length=20, null=True)),
                ('country', models.CharField(blank=True, max_length=100, null=True)),
                ('allow_bill_wise', models.BooleanField(default=False)),
                ('credit_limit', models.DecimalField(blank=True, decimal_places=2, max_digits=18, null=True)),
                ('credit_days', models.IntegerField(blank=True, null=True)),
                ('is_cost_center_required', models.BooleanField(default=False)),
                ('is_inventory_linked', models.BooleanField(default=False)),
                ('is_system_ledger', models.BooleanField(default=False)),
                ('lock_editing', models.BooleanField(default=False)),
                ('created_by', models.BigIntegerField(blank=True, null=True)),
                ('updated_by', models.BigIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(blank=True, null=True)),
                ('updated_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Transaction File',
                'verbose_name_plural': 'Transaction Files',
                'db_table': 'Transcaction_file',
                'managed': True,
                'indexes': [models.Index(fields=['tenant_id', 'ledger_name'], name='Transcactio_tenant__f02ed7_idx'), models.Index(fields=['tenant_id', 'is_active'], name='Transcactio_tenant__99f3f8_idx'), models.Index(fields=['ledger_code'], name='Transcactio_ledger__38f12f_idx'), models.Index(fields=['nature'], name='Transcactio_nature_264db3_idx')],
            },
        ),
        migrations.CreateModel(
            name='Voucher',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('type', models.CharField(choices=[('sales', 'Sales'), ('purchase', 'Purchase'), ('payment', 'Payment'), ('receipt', 'Receipt'), ('contra', 'Contra'), ('journal', 'Journal')], max_length=20)),
                ('voucher_number', models.CharField(max_length=50)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('party', models.CharField(blank=True, max_length=255, null=True)),
                ('account', models.CharField(blank=True, help_text='Payment/Receipt account (Cash/Bank)', max_length=255, null=True)),
                ('amount', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('total', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=15, null=True)),
                ('narration', models.TextField(blank=True, null=True)),
                ('invoice_no', models.CharField(blank=True, max_length=50, null=True)),
                ('is_inter_state', models.BooleanField(blank=True, default=False, null=True)),
                ('total_taxable_amount', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=15, null=True)),
                ('total_cgst', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=15, null=True)),
                ('total_sgst', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=15, null=True)),
                ('total_igst', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=15, null=True)),
                ('total_debit', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=15, null=True)),
                ('total_credit', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=15, null=True)),
                ('from_account', models.CharField(blank=True, max_length=255, null=True)),
                ('to_account', models.CharField(blank=True, max_length=255, null=True)),
                ('items_data', models.JSONField(blank=True, help_text='Line items with qty, rate, etc', null=True)),
                ('dummy_force', models.IntegerField(blank=True, null=True)),
            ],
            options={
                'db_table': 'vouchers',
                'ordering': ['-date'],
                'indexes': [models.Index(fields=['type', 'tenant_id', 'date'], name='vouchers_type_567f73_idx'), models.Index(fields=['tenant_id', 'date'], name='vouchers_tenant__6180d8_idx')],
                'unique_together': {('voucher_number', 'tenant_id', 'type')},
            },
        ),
        migrations.CreateModel(
            name='JournalEntry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('ledger', models.CharField(max_length=255)),
                ('debit', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('credit', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('voucher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='journal_entries', to='accounting.voucher')),
            ],
            options={
                'db_table': 'journal_entries',
            },
        ),
        migrations.CreateModel(
            name='AmountTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('ledger_name', models.CharField(blank=True, help_text="Ledger name (e.g., 'bank2', 'Cash', 'HDFC Bank')", max_length=255, null=True)),
                ('sub_group_1', models.CharField(blank=True, help_text="Sub group 1 from ledger (e.g., 'Current Assets')", max_length=255, null=True)),
                ('code', models.CharField(blank=True, help_text='Ledger code from master_ledgers table', max_length=50, null=True)),
                ('transaction_date', models.DateField(help_text='Date of transaction')),
                ('transaction_type', models.CharField(choices=[('opening_balance', 'Opening Balance'), ('transaction', 'Transaction')], default='transaction', help_text='Type of transaction', max_length=20)),
                ('debit', models.DecimalField(decimal_places=2, default=0, help_text='Debit amount (money coming in)', max_digits=15)),
                ('credit', models.DecimalField(decimal_places=2, default=0, help_text='Credit amount (money going out)', max_digits=15)),
                ('balance', models.DecimalField(decimal_places=2, default=0, help_text='Running balance after this transaction', max_digits=15)),
                ('narration', models.TextField(blank=True, help_text='Transaction description or narration', null=True)),
                ('ledger', models.ForeignKey(help_text='Reference to the Cash/Bank ledger', on_delete=django.db.models.deletion.CASCADE, related_name='amount_transactions', to='accounting.masterledger')),
                ('voucher', models.ForeignKey(blank=True, help_text='Reference to voucher if transaction is from a voucher', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='amount_transactions', to='accounting.voucher')),
            ],
            options={
                'db_table': 'amount_transactions',
                'ordering': ['-transaction_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='VoucherConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('voucher_type', models.CharField(choices=[('sales', 'Sales'), ('credit-note', 'Credit Note'), ('receipts', 'Receipts'), ('purchases', 'Purchases'), ('debit-note', 'Debit Note'), ('payments', 'Payments'), ('expenses', 'Expenses'), ('journal', 'Journal'), ('contra', 'Contra')], max_length=50)),
                ('voucher_name', models.CharField(max_length=255)),
                ('enable_auto_numbering', models.BooleanField(default=True)),
                ('prefix', models.CharField(blank=True, max_length=50, null=True)),
                ('suffix', models.CharField(blank=True, max_length=50, null=True)),
                ('start_from', models.PositiveBigIntegerField(default=1)),
                ('current_number', models.PositiveBigIntegerField(default=1)),
                ('required_digits', models.IntegerField(default=4)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField()),
                ('update_customer_master', models.BooleanField(blank=True, null=True)),
                ('include_from_existing_series_id', models.BigIntegerField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'voucher_configurations',
                'indexes': [models.Index(fields=['tenant_id', 'voucher_type'], name='voucher_con_tenant__142b94_idx'), models.Index(fields=['effective_from', 'effective_to'], name='voucher_con_effecti_a6b7a2_idx')],
                'unique_together': {('tenant_id', 'voucher_type', 'voucher_name', 'effective_from')},
            },
        ),
        migrations.CreateModel(
            name='SalesInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_id', models.CharField(db_index=True, max_length=36)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('invoice_number', models.CharField(help_text='Auto-generated, sequential', max_length=50)),
                ('invoice_date', models.DateField(help_text='Must be today or past date')),
                ('bill_to_address', models.TextField(help_text='Auto-fetched from customer')),
                ('bill_to_gstin', models.CharField(blank=True, max_length=15, null=True)),
                ('bill_to_contact', models.CharField(blank=True, max_length=255, null=True)),
                ('bill_to_state', models.CharField(blank=True, max_length=100, null=True)),
                ('bill_to_country', models.CharField(default='India', max_length=100)),
                ('ship_to_address', models.TextField(help_text='Auto-fetched but editable')),
                ('ship_to_state', models.CharField(blank=True, max_length=100, null=True)),
                ('ship_to_country', models.CharField(default='India', max_length=100)),
                ('tax_type', models.CharField(choices=[('within_state', 'Within State'), ('other_state', 'Other State'), ('export', 'Export')], help_text='Auto-determined from addresses', max_length=20)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='draft', max_length=20)),
                ('current_step', models.IntegerField(default=1, help_text='Current workflow step (1-5)')),
                ('customer', models.ForeignKey(help_text='Customer from ledgers', on_delete=django.db.models.deletion.PROTECT, related_name='invoices', to='accounting.masterledger')),
                ('voucher_type', models.ForeignKey(help_text='Sales voucher type', on_delete=django.db.models.deletion.PROTECT, related_name='sales_invoices', to='accounting.receiptvouchertype')),
            ],
            options={
                'db_table': 'sales_invoices',
                'ordering': ['-invoice_date', '-created_at'],
                'indexes': [models.Index(fields=['tenant_id', 'invoice_date'], name='sales_invoi_tenant__62aed4_idx'), models.Index(fields=['customer', 'tenant_id'], name='sales_invoi_custome_aa5d4a_idx'), models.Index(fields=['voucher_type'], name='sales_invoi_voucher_e4d47a_idx')],
                'unique_together': {('tenant_id', 'invoice_number')},
            },
        ),
        migrations.AddIndex(
            model_name='salesvoucher',
            index=models.Index(fields=['tenant_id', 'date'], name='sales_vouch_tenant__180753_idx'),
        ),
        migrations.AddIndex(
            model_name='salesvoucher',
            index=models.Index(fields=['sales_invoice_number'], name='sales_vouch_sales_i_a4c9ac_idx'),
        ),
        migrations.AddIndex(
            model_name='salesvoucher',
            index=models.Index(fields=['customer', 'tenant_id'], name='sales_vouch_custome_c9319a_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='salesvoucher',
            unique_together={('tenant_id', 'sales_invoice_number')},
        ),
        migrations.AddIndex(
            model_name='salesvoucherdocument',
            index=models.Index(fields=['sales_voucher', 'tenant_id'], name='sales_vouch_sales_v_5e1e5b_idx'),
        ),
        migrations.AddIndex(
            model_name='salesvoucheritem',
            index=models.Index(fields=['sales_voucher', 'tenant_id'], name='sales_vouch_sales_v_3a0ff1_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='tenantledger',
            unique_together={('tenant_id', 'master_ledger')},
        ),
        migrations.AddIndex(
            model_name='journalentry',
            index=models.Index(fields=['voucher', 'tenant_id'], name='journal_ent_voucher_73bcf1_idx'),
        ),
        migrations.AddIndex(
            model_name='amounttransaction',
            index=models.Index(fields=['tenant_id', 'ledger', 'transaction_date'], name='amount_tran_tenant__d7c201_idx'),
        ),
        migrations.AddIndex(
            model_name='amounttransaction',
            index=models.Index(fields=['tenant_id', 'transaction_type'], name='amount_tran_tenant__9534d3_idx'),
        ),
        migrations.AddIndex(
            model_name='amounttransaction',
            index=models.Index(fields=['transaction_date'], name='amount_tran_transac_10f4ee_idx'),
        ),
    ]
