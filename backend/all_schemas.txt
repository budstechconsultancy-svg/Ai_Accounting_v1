--- customer_transaction_salesorder_basicdetails ---
CREATE TABLE `customer_transaction_salesorder_basicdetails` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `tenant_id` varchar(36) NOT NULL COMMENT 'Tenant ID for multi-tenancy',
  `so_series_name` varchar(100) DEFAULT NULL COMMENT 'SO Series Name',
  `so_number` varchar(50) NOT NULL COMMENT 'Sales Order Number (auto-generated)',
  `date` date NOT NULL COMMENT 'Sales Order Date',
  `customer_po_number` varchar(100) DEFAULT NULL COMMENT 'Customer PO Number',
  `customer_name` varchar(255) NOT NULL COMMENT 'Customer Name',
  `branch` varchar(255) DEFAULT NULL COMMENT 'Branch',
  `address` longtext COMMENT 'Address',
  `email` varchar(254) DEFAULT NULL COMMENT 'Email Address',
  `contact_number` varchar(20) DEFAULT NULL COMMENT 'Contact Number',
  `is_active` tinyint(1) NOT NULL DEFAULT '1',
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),
  `updated_at` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
  `created_by` varchar(100) DEFAULT NULL,
  `updated_by` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `cust_trans_so_basic_so_number_uniq` (`tenant_id`,`so_number`),
  KEY `cust_trans_so_basic_tenant_idx` (`tenant_id`),
  KEY `cust_trans_so_basic_customer_idx` (`customer_name`),
  KEY `cust_trans_so_basic_date_idx` (`date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Customer Transaction - Sales Order Basic Details'

--- vendor_transaction_po ---
CREATE TABLE `vendor_transaction_po` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `tenant_id` varchar(36) NOT NULL COMMENT 'Tenant ID for multi-tenancy',
  `po_number` varchar(50) NOT NULL COMMENT 'Purchase Order Number',
  `po_series_id` bigint DEFAULT NULL COMMENT 'Foreign key to vendor_master_posettings',
  `vendor_basic_detail_id` bigint DEFAULT NULL COMMENT 'Foreign key to vendor_master_basicdetail',
  `vendor_name` varchar(200) DEFAULT NULL COMMENT 'Vendor name (denormalized)',
  `branch` varchar(200) DEFAULT NULL COMMENT 'Vendor branch',
  `address_line1` varchar(255) DEFAULT NULL COMMENT 'Address Line 1',
  `address_line2` varchar(255) DEFAULT NULL COMMENT 'Address Line 2',
  `address_line3` varchar(255) DEFAULT NULL COMMENT 'Address Line 3',
  `city` varchar(100) DEFAULT NULL COMMENT 'City',
  `state` varchar(100) DEFAULT NULL COMMENT 'State',
  `country` varchar(100) DEFAULT NULL COMMENT 'Country',
  `pincode` varchar(20) DEFAULT NULL COMMENT 'Pincode',
  `email_address` varchar(255) DEFAULT NULL COMMENT 'Email Address',
  `contract_no` varchar(100) DEFAULT NULL COMMENT 'Contract Number',
  `receive_by` date DEFAULT NULL COMMENT 'Expected receive date',
  `receive_at` varchar(200) DEFAULT NULL COMMENT 'Receive at location',
  `delivery_terms` text COMMENT 'Delivery terms and conditions',
  `total_taxable_value` decimal(15,2) DEFAULT '0.00' COMMENT 'Total taxable value',
  `total_tax` decimal(15,2) DEFAULT '0.00' COMMENT 'Total tax amount',
  `total_value` decimal(15,2) DEFAULT '0.00' COMMENT 'Total PO value',
  `status` varchar(50) DEFAULT 'Draft' COMMENT 'PO Status: Draft, Pending Approval, Approved, Mailed, Closed',
  `is_active` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Whether this PO is active',
  `created_at` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),
  `updated_at` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
  `created_by` varchar(100) DEFAULT NULL COMMENT 'Created by user',
  `updated_by` varchar(100) DEFAULT NULL COMMENT 'Updated by user',
  PRIMARY KEY (`id`),
  UNIQUE KEY `vendor_po_tenant_number_unique` (`tenant_id`,`po_number`),
  KEY `vendor_po_tenant_id_idx` (`tenant_id`),
  KEY `vendor_po_series_id_idx` (`po_series_id`),
  KEY `vendor_po_vendor_id_idx` (`vendor_basic_detail_id`),
  KEY `vendor_po_status_idx` (`status`),
  CONSTRAINT `vendor_po_series_fk` FOREIGN KEY (`po_series_id`) REFERENCES `vendor_master_posettings` (`id`) ON DELETE SET NULL,
  CONSTRAINT `vendor_po_vendor_fk` FOREIGN KEY (`vendor_basic_detail_id`) REFERENCES `vendor_master_basicdetail` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Vendor Purchase Order Transactions'

--- payroll_employee ---
CREATE TABLE `payroll_employee` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `tenant_id` varchar(36) NOT NULL,
  `employee_code` varchar(50) NOT NULL,
  `employee_name` varchar(200) NOT NULL,
  `email` varchar(254) NOT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `gender` varchar(10) DEFAULT NULL,
  `address` longtext,
  `department` varchar(100) DEFAULT NULL,
  `designation` varchar(100) DEFAULT NULL,
  `date_of_joining` date DEFAULT NULL,
  `employment_type` varchar(20) NOT NULL,
  `basic_salary` decimal(12,2) NOT NULL,
  `hra` decimal(12,2) NOT NULL,
  `pan_number` varchar(10) DEFAULT NULL,
  `uan_number` varchar(12) DEFAULT NULL,
  `esi_number` varchar(17) DEFAULT NULL,
  `aadhar_number` varchar(12) DEFAULT NULL,
  `account_number` varchar(20) DEFAULT NULL,
  `ifsc_code` varchar(11) DEFAULT NULL,
  `bank_name` varchar(100) DEFAULT NULL,
  `branch_name` varchar(100) DEFAULT NULL,
  `status` varchar(10) NOT NULL,
  `created_at` datetime(6) NOT NULL,
  `updated_at` datetime(6) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `employee_code` (`employee_code`),
  UNIQUE KEY `payroll_employee_tenant_id_employee_code_d01d799a_uniq` (`tenant_id`,`employee_code`),
  KEY `payroll_employee_tenant_id_a8ef9da4` (`tenant_id`),
  KEY `payroll_emp_tenant__ce9278_idx` (`tenant_id`,`status`),
  KEY `payroll_emp_employe_b2acf6_idx` (`employee_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

--- accounting_voucher ---
CREATE TABLE `accounting_voucher` (
  `id` varchar(50) NOT NULL,
  `tenant_id` varchar(36) NOT NULL,
  `date` date NOT NULL,
  `type` varchar(50) NOT NULL,
  `narration` longtext,
  `account` varchar(255) DEFAULT NULL,
  `amount` decimal(15,2) NOT NULL,
  `invoice_no` varchar(100) DEFAULT NULL,
  `is_inter_state` tinyint(1) NOT NULL,
  `party` varchar(255) DEFAULT NULL,
  `total` decimal(15,2) NOT NULL,
  `total_cgst` decimal(15,2) NOT NULL,
  `total_credit` decimal(15,2) NOT NULL,
  `total_debit` decimal(15,2) NOT NULL,
  `total_igst` decimal(15,2) NOT NULL,
  `total_sgst` decimal(15,2) NOT NULL,
  `total_taxable_amount` decimal(15,2) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `accounting_voucher_tenant_id_62e0a358` (`tenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

