CREATE TABLE `inventory_operation_production` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `tenant_id` varchar(36) NOT NULL,
  `created_at` datetime(6) DEFAULT CURRENT_TIMESTAMP(6),
  `updated_at` datetime(6) DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
  `issue_slip_no` varchar(100) NOT NULL,
  `date` date DEFAULT NULL,
  `time` time DEFAULT NULL,
  `status` varchar(50) NOT NULL DEFAULT 'Draft',
  `goods_from_location` varchar(255) DEFAULT NULL,
  `goods_to_location` varchar(255) DEFAULT NULL,
  `posting_note` text,
  `production_type` varchar(50) DEFAULT 'materials_issued' COMMENT 'materials_issued, inter_process, finished_goods',
  `material_issue_slip_no` varchar(100) DEFAULT NULL,
  `process_transfer_slip_no` varchar(100) DEFAULT NULL,
  `finished_goods_production_no` varchar(100) DEFAULT NULL,
  `batch_no` varchar(50) DEFAULT NULL,
  `expiry_date` date DEFAULT NULL,
  `items` json DEFAULT NULL COMMENT 'List of items with type (input/output/waste), quantity, rate, etc.',
  `dispatch_address` text,
  `dispatch_date` date DEFAULT NULL,
  `vehicle_number` varchar(50) DEFAULT NULL,
  `valid_till` date DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_iop_tenant` (`tenant_id`),
  KEY `idx_iop_issue_slip` (`issue_slip_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci